<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>イベントカレンダー</title>

<style>
:root{
  --cat-talk:#d99aa9;      /* 講演会（くすみピンク） */
  --cat-study:#9fbea9;     /* 勉強会・交流会（くすみグリーン） */
  --cat-online:#93afd0;    /* オンラインセミナー（くすみブルー） */
  --cat-session:#e3cc7a;   /* 個別セッション（くすみイエロー） */
  --cat-other:#b695bd;     /* その他（くすみパープル） */
}

body{
  font-family:sans-serif;
}

.header{
  display:flex;
  align-items:center;
  gap:15px;
  flex-wrap:wrap;
  margin-bottom:10px;
}

button{
  padding:5px 10px;
}

#currentMonth{
  font-weight:bold;
  font-size:18px;
}

.legend{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.legend-item{
  display:flex;
  align-items:center;
  gap:4px;
  font-size:12px;
}

.legend-color{
  width:12px;
  height:12px;
  border-radius:2px;
}

#calendar{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:1px;
  background:#ccc;
}

.weekday{
  background:#ddd;
  text-align:center;
  font-weight:bold;
  padding:5px 0;
}

.day{
  background:white;
  min-height:100px;
  padding:4px;
  font-size:12px;
  position:relative;
}

.other-month{
  background:#f5f5f5;
  color:#aaa;
}

.sunday{
  background:#ffeaea;
}

.saturday{
  background:#eaf3ff;
}

.date-number{
  font-weight:bold;
  font-size:14px;
}

.today{
  outline:3px solid orange;
}

.event{
  margin-top:2px;
  padding:2px;
  border-radius:3px;
  font-size:11px;
  color:white;
}
</style>
</head>

<body>

<div class="header">
  <button onclick="goToday()">今日</button>
  <button onclick="changeMonth(-1)">←</button>
  <div id="currentMonth"></div>
  <button onclick="changeMonth(1)">→</button>

  <div class="legend" id="legend"></div>
</div>

<div id="calendar"></div>

<script>

const CATEGORY_COLORS={
  "講演会":"var(--cat-talk)",
  "勉強会・交流会":"var(--cat-study)",
  "オンラインセミナー":"var(--cat-online)",
  "個別セッション":"var(--cat-session)",
  "その他":"var(--cat-other)"
};


const events=[
  {date:"2026-02-05",start:"10:00",end:"12:00",title:"DX推進講演",category:"講演会"},
  {date:"2026-02-05",start:"14:00",end:"16:00",title:"交流会",category:"勉強会・交流会"},
  {date:"2026-02-08",start:"19:00",end:"20:30",title:"オンライン脳科学",category:"オンラインセミナー"},
  {date:"2026-02-12",start:"09:00",end:"10:00",title:"個別相談",category:"個別セッション"},
  {date:"2026-02-18",start:"13:00",end:"15:00",title:"特別イベント",category:"その他"}
];

let current=new Date();

function renderLegend(){
  const legend=document.getElementById("legend");
  legend.innerHTML="";

  Object.keys(CATEGORY_COLORS).forEach(cat=>{
    const item=document.createElement("div");
    item.className="legend-item";

    const color=document.createElement("div");
    color.className="legend-color";
    color.style.background=CATEGORY_COLORS[cat];

    const label=document.createElement("span");
    label.innerText=cat;

    item.appendChild(color);
    item.appendChild(label);
    legend.appendChild(item);
  });
}

function renderCalendar(){

  const year=current.getFullYear();
  const month=current.getMonth();

  document.getElementById("currentMonth").innerText=
    year+"年 "+(month+1)+"月";

  const calendar=document.getElementById("calendar");
  calendar.innerHTML="";

  const firstDay=new Date(year,month,1);
  const startDay=firstDay.getDay();
  const startDate=new Date(year,month,1-startDay);

  const today=new Date();

  const weekNames=["日","月","火","水","木","金","土"];
  weekNames.forEach(w=>{
    const div=document.createElement("div");
    div.className="weekday";
    div.innerText=w;
    calendar.appendChild(div);
  });

  for(let i=0;i<42;i++){

    const cellDate=new Date(startDate);
    cellDate.setDate(startDate.getDate()+i);

    const cellYear=cellDate.getFullYear();
    const cellMonth=cellDate.getMonth();
    const cellDay=cellDate.getDate();

    const div=document.createElement("div");
    div.className="day";

    if(cellMonth!==month){
      div.classList.add("other-month");
    }

    const weekDay=cellDate.getDay();
    if(weekDay===0) div.classList.add("sunday");
    if(weekDay===6) div.classList.add("saturday");

    if(
      cellYear===today.getFullYear() &&
      cellMonth===today.getMonth() &&
      cellDay===today.getDate()
    ){
      div.classList.add("today");
    }

    const dateLabel=document.createElement("div");
    dateLabel.className="date-number";
    dateLabel.innerText=cellDay;
    div.appendChild(dateLabel);

    const dateStr=
      cellYear+"-"+
      String(cellMonth+1).padStart(2,"0")+"-"+
      String(cellDay).padStart(2,"0");

    const dayEvents=events
      .filter(e=>e.date===dateStr)
      .sort((a,b)=>a.start.localeCompare(b.start));

    dayEvents.forEach(ev=>{
      const evDiv=document.createElement("div");
      evDiv.className="event";
      evDiv.style.background=CATEGORY_COLORS[ev.category];
      evDiv.innerText=ev.start+" "+ev.title;
      div.appendChild(evDiv);
    });

    calendar.appendChild(div);
  }
}

function changeMonth(n){
  current.setMonth(current.getMonth()+n);
  renderCalendar();
}

function goToday(){
  current=new Date();
  renderCalendar();
}

renderLegend();
renderCalendar();

</script>
</body>
</html>
