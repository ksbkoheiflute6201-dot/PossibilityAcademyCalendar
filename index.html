<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>イベントカレンダー</title>

<style>
:root{
  --cat-talk:#e8a4b8;
  --cat-study:#a8cbb7;
  --cat-online:#a9c7e8;
  --cat-session:#f1dd8b;
  --cat-other:#c8a2c8;
}

body{
  font-family:sans-serif;
  margin:20px;
}

h2{
  text-align:center;
}

/* ===== 凡例 ===== */
.legend{
  display:flex;
  gap:20px;
  justify-content:center;
  margin-bottom:15px;
  flex-wrap:wrap;
}

.legend-item{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:14px;
}

.legend-color{
  width:18px;
  height:18px;
  border-radius:6px;
}

/* ===== カレンダー ===== */
.calendar{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:5px;
}

.weekday{
  text-align:center;
  font-weight:bold;
  padding:5px 0;
  background:#f0f0f0;
}

.day{
  border:1px solid #ccc;
  min-height:100px;
  padding:5px;
  font-size:12px;
  background:white;
}

.other-month{
  background:#f8f8f8;
  color:#aaa;
}

.day-number{
  font-weight:bold;
  margin-bottom:5px;
}

.event{
  margin-bottom:3px;
  padding:3px;
  border-radius:6px;
  font-size:11px;
  color:#333;
}
</style>
</head>

<body>

<h2 id="monthTitle"></h2>

<!-- ===== 凡例 ===== -->
<div class="legend">
  <div class="legend-item">
    <div class="legend-color" style="background:var(--cat-talk)"></div>
    講演会
  </div>
  <div class="legend-item">
    <div class="legend-color" style="background:var(--cat-study)"></div>
    勉強会・交流会
  </div>
  <div class="legend-item">
    <div class="legend-color" style="background:var(--cat-online)"></div>
    オンラインセミナー
  </div>
  <div class="legend-item">
    <div class="legend-color" style="background:var(--cat-session)"></div>
    個別セッション
  </div>
  <div class="legend-item">
    <div class="legend-color" style="background:var(--cat-other)"></div>
    その他
  </div>
</div>

<div id="calendar" class="calendar"></div>

<script>
// ===== カテゴリ色 =====
const COLORS = {
  "講演会":"var(--cat-talk)",
  "勉強会・交流会":"var(--cat-study)",
  "オンラインセミナー":"var(--cat-online)",
  "個別セッション":"var(--cat-session)",
  "その他":"var(--cat-other)"
};

// ===== テストイベント =====
const events = [
  {date:"2026-02-10", title:"脳科学講演", type:"講演会"},
  {date:"2026-02-15", title:"DX勉強会", type:"勉強会・交流会"},
  {date:"2026-02-18", title:"Zoomセミナー", type:"オンラインセミナー"},
  {date:"2026-02-20", title:"個別相談", type:"個別セッション"},
  {date:"2026-02-25", title:"その他イベント", type:"その他"}
];

const weekdays = ["日","月","火","水","木","金","土"];

function generateCalendar(year, month){

  const calendar = document.getElementById("calendar");
  calendar.innerHTML="";
  document.getElementById("monthTitle").textContent =
    `${year}年 ${month+1}月`;

  // ===== 曜日表示 =====
  weekdays.forEach(d=>{
    const w=document.createElement("div");
    w.className="weekday";
    w.textContent=d;
    calendar.appendChild(w);
  });

  const firstDay = new Date(year, month, 1).getDay();
  const lastDate = new Date(year, month+1, 0).getDate();
  const prevLastDate = new Date(year, month, 0).getDate();

  // 42マス固定（6週）
  for(let i=0;i<42;i++){

    const cell=document.createElement("div");
    cell.className="day";

    let displayDate;
    let actualDate;
    let isOtherMonth=false;

    if(i < firstDay){
      // 前月
      displayDate = prevLastDate - firstDay + i +1;
      actualDate = new Date(year, month-1, displayDate);
      isOtherMonth=true;
    }else if(i >= firstDay + lastDate){
      // 翌月
      displayDate = i - (firstDay + lastDate) +1;
      actualDate = new Date(year, month+1, displayDate);
      isOtherMonth=true;
    }else{
      // 当月
      displayDate = i - firstDay +1;
      actualDate = new Date(year, month, displayDate);
    }

    if(isOtherMonth){
      cell.classList.add("other-month");
    }

    const number=document.createElement("div");
    number.className="day-number";
    number.textContent=displayDate;
    cell.appendChild(number);

    const dateStr =
      `${actualDate.getFullYear()}-${String(actualDate.getMonth()+1).padStart(2,"0")}-${String(actualDate.getDate()).padStart(2,"0")}`;

    events
      .filter(e=>e.date===dateStr)
      .forEach(e=>{
        const ev=document.createElement("div");
        ev.className="event";
        ev.textContent=e.title;
        ev.style.background=COLORS[e.type] || "#eee";
        cell.appendChild(ev);
      });

    calendar.appendChild(cell);
  }
}

// 2026年2月
generateCalendar(2026,1);
</script>

</body>
</html>
